/**
 * State-based routing for AngularJS
 * @version v0.2.14
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */

typeof module!="undefined"&&typeof exports!="undefined"&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){function l(a,b){return j(new(j(function(){},{prototype:a})),b)}function m(a){return i(arguments,function(b){b!==a&&i(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function n(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function o(a){if(Object.keys)return Object.keys(a);var b=[];return i(a,function(a,c){b.push(c)}),b}function p(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;d=d<0?Math.ceil(d):Math.floor(d),d<0&&(d+=c);for(;d<c;d++)if(d in a&&a[d]===b)return d;return-1}function q(a,b,c,d){var e=n(c,d),f,g={},h=[];for(var i in e){if(!e[i].params)continue;f=o(e[i].params);if(!f.length)continue;for(var k in f){if(p(h,f[k])>=0)continue;h.push(f[k]),g[f[k]]=a[f[k]]}}return j({},g,b)}function r(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function s(a,b){var c={};return i(a,function(a){c[a]=b[a]}),c}function t(a,b){var c={};return i(a,function(a){c[a[b]]=a}),c}function u(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return i(c,function(c){c in a&&(b[c]=a[c])}),b}function v(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)p(c,d)==-1&&(b[d]=a[d]);return b}function w(a,b){var c=h(a)?[]:{};return i(a,function(a,d){c[d]=e(b)?b(a):a[b]}),c}function x(a,b){var c=h(a),d=c?[]:{};return i(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function y(a,b){var c=h(a)?[]:{};return i(a,function(a,d){c[d]=b(a,d)}),c}function z(a,b){var e=1,h=2,k={},l=[],n=k,q=j(a.when(k),{$$promises:k,$$values:k});this.study=function(k){function w(a,c){if(u[c]===h)return;t.push(c);if(u[c]===e)throw t.splice(0,p(t,c)),new Error("Cyclic dependency: "+t.join(" -> "));u[c]=e;if(f(a))s.push(c,[function(){return b.get(a)}],l);else{var d=b.annotate(a);i(d,function(a){a!==c&&k.hasOwnProperty(a)&&w(k[a],a)}),s.push(c,a,d)}t.pop(),u[c]=h}function x(a){return g(a)&&a.then&&a.$$promises}if(!g(k))throw new Error("'invocables' must be an object");var r=o(k||{}),s=[],t=[],u={};return i(k,w),k=t=u=null,function(e,f,h){function w(){--t||(u||m(p,f.$$values),l.$$values=p,l.$$promises=l.$$promises||!0,delete l.$$inheritedValues,k.resolve(p))}function y(a){l.$$failure=a,k.reject(a)}function B(c,f,g){function m(a){j.reject(a),y(a)}function n(){if(d(l.$$failure))return;try{j.resolve(b.invoke(f,h,p)),j.promise.then(function(a){p[c]=a,w()},m)}catch(a){m(a)}}var j=a.defer(),k=0;i(g,function(a){o.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(k++,o[a].then(function(b){p[a]=b,--k||n()},m))}),k||n(),o[c]=j.promise}x(e)&&h===c&&(h=f,f=e,e=null);if(!e)e=n;else if(!g(e))throw new Error("'locals' must be an object");if(!f)f=q;else if(!x(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()");var k=a.defer(),l=k.promise,o=l.$$promises={},p=j({},e),t=1+s.length/3,u=!1;if(d(f.$$failure))return y(f.$$failure),l;f.$$inheritedValues&&m(p,v(f.$$inheritedValues,r)),j(o,f.$$promises),f.$$values?(u=m(p,v(f.$$values,r)),l.$$inheritedValues=v(f.$$values,r),w()):(f.$$inheritedValues&&(l.$$inheritedValues=v(f.$$inheritedValues,r)),f.then(w,y));for(var z=0,A=s.length;z<A;z+=3)e.hasOwnProperty(s[z])?w():B(s[z],s[z+1],s[z+2]);return l}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function A(a,b,c){this.fromConfig=function(a,b,c){return d(a.template)?this.fromString(a.template,b):d(a.templateUrl)?this.fromUrl(a.templateUrl,b):d(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return e(a)?a(b):a},this.fromUrl=function(c,d){return e(c)&&(c=c(d)),c==null?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function C(a,b,d){function q(b,c,d,e){p.push(b);if(n[b])return n[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(o[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return o[b]=new B.Param(b,c,d,e),o[b]}function r(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:e=["?(",")?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function s(d,e){var f,g,h,j,k,m;return f=d[2]||d[3],k=b.params[f],h=a.substring(i,d.index),g=e?d[4]:d[4]||(d[1]=="*"?".*":null),j=B.type(g||"string")||l(B.type("string"),{pattern:new RegExp(g,b.caseInsensitive?"i":c)}),{id:f,regexp:g,segment:h,type:j,cfg:k}}b=j({params:{}},g(b)?b:{});var e=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",i=0,k,m=this.segments=[],n=d?d.params:{},o=this.params=d?d.params.$$new():new B.ParamSet,p=[];this.source=a;var t,u,v;while(k=e.exec(a)){t=s(k,!1);if(t.segment.indexOf("?")>=0)break;u=q(t.id,t.type,t.cfg,"path"),h+=r(t.segment,u.type.pattern.source,u.squash,u.isOptional),m.push(t.segment),i=e.lastIndex}v=a.substring(i);var w=v.indexOf("?");if(w>=0){var x=this.sourceSearch=v.substring(w);v=v.substring(0,w),this.sourcePath=a.substring(0,i+w);if(x.length>0){i=0;while(k=f.exec(x))t=s(k,!0),u=q(t.id,t.type,t.cfg,"search"),i=e.lastIndex}}else this.sourcePath=a,this.sourceSearch="";h+=r(v)+(b.strict===!1?"/?":"")+"$",m.push(v),this.regexp=new RegExp(h,b.caseInsensitive?"i":c),this.prefix=m[0],this.$$paramNames=p}function D(a){j(this,a)}function E(){function n(a){return a!=null?a.toString().replace(/\//g,"%2F"):a}function q(a){return a!=null?a.toString().replace(/%2F/g,"/"):a}function r(a){return this.pattern.test(a)}function z(){return{strict:k,caseInsensitive:a}}function A(a){return e(a)||h(a)&&e(a[a.length-1])}function F(){while(u.length){var a=u.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(s[a.name],v.invoke(a.def))}}function G(a){j(this,a||{})}B=this;var a=!1,k=!0,m=!1,s={},t=!0,u=[],v,w={string:{encode:n,decode:q,is:function(a){return typeof a=="string"},pattern:/[^/]*/},"int":{encode:n,decode:function(a){return parseInt(a,10)},is:function(a){return d(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return parseInt(a,10)!==0},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^/]*/},any:{encode:b.identity,decode:b.identity,is:b.identity,equals:b.equals,pattern:/.*/}};E.$$getDefaultValue=function(a){if(!A(a.value))return a.value;if(!v)throw new Error("Injectable functions cannot be called at configuration time");return v.invoke(a.value)},this.caseInsensitive=function(b){return d(b)&&(a=b),a},this.strictMode=function(a){return d(a)&&(k=a),k},this.defaultSquashPolicy=function(a){if(!d(a))return m;if(a!==!0&&a!==!1&&!f(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return m=a,a},this.compile=function(a,b){return new C(a,j(z(),b))},this.isMatcher=function(a){if(!g(a))return!1;var b=!0;return i(C.prototype,function(c,f){e(c)&&(b=b&&d(a[f])&&e(a[f]))}),b},this.type=function(a,b,c){if(!d(b))return s[a];if(s.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return s[a]=new D(j({name:a},b)),c&&(u.push({name:a,def:c}),t||F()),this},i(w,function(a,b){s[b]=new D(j({name:b},a))}),s=l(s,{}),this.$get=["$injector",function(a){return v=a,t=!1,F(),i(w,function(a,b){s[b]||(s[b]=new D(a))}),this}],this.Param=function(b,e,i,k){function u(a){var b=g(a)?o(a):[],c=p(b,"value")===-1&&p(b,"type")===-1&&p(b,"squash")===-1&&p(b,"array")===-1;return c&&(a={value:a}),a.$$fn=A(a.value)?a.value:function(){return a.value},a}function w(a,c,d){if(a.type&&c)throw new Error("Param '"+b+"' has two type configurations.");return c?c:a.type?a.type instanceof D?a.type:new D(a.type):d==="config"?s.any:s.string}function z(){var a={array:k==="search"?"auto":!1},c=b.match(/\[\]$/)?{array:!0}:{};return j(a,c,i).array}function B(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!d(c)||c==null)return m;if(c===!0||f(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function C(a,b,d,e){var g,i,j=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return g=h(a.replace)?a.replace:[],f(e)&&g.push({from:e,to:c}),i=y(g,function(a){return a.from}),x(j,function(a){return p(i,a.from)===-1}).concat(g)}function E(){if(!v)throw new Error("Injectable functions cannot be called at configuration time");var a=v.invoke(i.$$fn);if(a!==null&&a!==c&&!l.type.is(a))throw new Error("Default value ("+a+") for parameter '"+l.id+"' is not an instance of Type ("+l.type.name+")");return a}function F(a){function b(a){return function(b){return b.from===a}}function c(a){var c=y(x(l.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),d(a)?l.type.$normalize(a):E()}function G(){return"{Param:"+b+" "+e+" squash: '"+r+"' optional: "+q+"}"}var l=this;i=u(i),e=w(i,e,k);var n=z();e=n?e.$asArray(n,k==="search"):e,e.name==="string"&&!n&&k==="path"&&i.value===c&&(i.value="");var q=i.value!==c,r=B(i,q),t=C(i,n,q,r);j(this,{id:b,type:e,location:k,array:n,squash:r,replace:t,isOptional:q,value:F,dynamic:c,config:i,toString:G})},G.prototype={$$new:function(){return l(this,j(new G,{$$parent:this}))},$$keys:function(){var a=[],b=[],c=this,d=o(G.prototype);while(c)b.push(c),c=c.$$parent;return b.reverse(),i(b,function(b){i(o(b),function(b){p(a,b)===-1&&p(d,b)===-1&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return i(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return i(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(d){var e=this.$$keys(),f,g,h,i,j;for(f=0;f<e.length;f++){g=this[e[f]],h=d[e[f]];if(!(h!==c&&h!==null||!g.isOptional))break;i=g.type.$normalize(h);if(!g.type.is(i))return!1;j=g.type.encode(i);if(b.isString(j)&&!g.type.pattern.exec(j))return!1}return!0},$$parent:c},this.ParamSet=G}function F(a,g){function n(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return b!=null?b[1].replace(/\\(.)/g,"$1"):""}function o(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b[c==="$"?0:Number(c)]})}function p(a,b,c){if(!c)return!1;var e=a.invoke(b,b,{$match:c});return d(e)?e:!0}function q(d,e,g,h){function p(a,b,c){return j==="/"?a:b?j.slice(0,-1)+a:c?j.slice(1)+a:a}function q(a){function e(a){var b=a(g,d);return b?(f(b)&&d.replace().url(b),!0):!1}if(a&&a.defaultPrevented)return;var b=o&&d.url()===o;o=c;if(b)return!0;var h=i.length,j;for(j=0;j<h;j++)if(e(i[j]))return;k&&e(k)}function r(){return m=m||e.$on("$locationChangeSuccess",q),m}var j=h.baseHref(),n=d.url(),o;return l||r(),{sync:function(){q()},listen:function(){return r()},update:function(a){if(a){n=d.url();return}if(d.url()===n)return;d.url(n),d.replace()},push:function(a,b,e){var f=a.format(b||{});f!==null&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var h=c.format(e);f=f||{},!g&&h!==null&&(h="#"+a.hashPrefix()+h),h!==null&&e&&e["#"]&&(h+="#"+e["#"]),h=p(h,g,f.absolute);if(!f.absolute||!h)return h;var i=!g&&h?"/":"",j=d.port();return j=j===80||j===443?"":":"+j,[d.protocol(),"://",d.host(),j,i,h].join("")}}}var i=[],k=null,l=!1,m;this.rule=function(a){if(!e(a))throw new Error("'rule' must be a function");return i.push(a),this},this.otherwise=function(a){if(f(a)){var b=a;a=function(){return b}}else if(!e(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,d=f(b);f(a)&&(a=g.compile(a));if(!d&&!e(b)&&!h(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return d&&(c=g.compile(b),b=["$match",function(a){return c.format(a)}]),j(function(c,d){return p(c,b,a.exec(d.path(),d.search()))},{prefix:f(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return d&&(c=b,b=["$match",function(a){return o(c,a)}]),j(function(c,d){return p(c,b,a.exec(d.path()))},{prefix:n(a)})}},k={matcher:g.isMatcher(a),regex:a instanceof RegExp};for(var l in k)if(k[l])return this.rule(i[l](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=q,q.$inject=["$location","$rootScope","$injector","$browser"]}function G(a,m){function z(a){return a.indexOf(".")===0||a.indexOf("^")===0}function A(a,b){if(!a)return c;var d=f(a),e=d?a:a.name,g=z(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=A(b);var h=e.split("."),i=0,j=h.length,k=b;for(;i<j;i++){if(h[i]===""&&i===0){k=b;continue}if(h[i]==="^"){if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent;continue}break}h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var l=t[e];return l&&(d||!d&&(l===a||l.self===a))?l:c}function C(a,b){v[a]||(v[a]=[]),v[a].push(b)}function D(a){var b=v[a]||[];while(b.length)E(b.shift())}function E(b){b=l(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!f(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(t.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var d=c.indexOf(".")!==-1?c.substring(0,c.lastIndexOf(".")):f(b.parent)?b.parent:g(b.parent)&&f(b.parent.name)?b.parent.name:"";if(d&&!t[d])return C(d,b.self);for(var h in x)e(x[h])&&(b[h]=x[h](b,x.$delegates[h]));return t[c]=b,!b[w]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){(u.$current.navigable!=b||!r(a,c))&&u.transitionTo(b,a,{inherit:!0,location:!1})}]),D(c),b}function F(a){return a.indexOf("*")>-1}function G(a){var b=a.split("."),c=u.$current.name.split(".");for(var d=0,e=b.length;d<e;d++)b[d]==="*"&&(c[d]="*");return b[0]==="**"&&(c=c.slice(p(c,b[1])),c.unshift("**")),b[b.length-1]==="**"&&(c.splice(p(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function H(a,b){return f(a)&&!d(b)?x[a]:!e(b)||!f(a)?this:(x[a]&&!x.$delegates[a]&&(x.$delegates[a]=x[a]),x[a]=b,this)}function I(a,b){return g(a)?b=a:b.name=a,E(b),this}function J(a,m,p,v,x,z,B,C,D){function L(b,c,d,e){var f=a.$broadcast("$stateNotFound",b,c,d);if(f.defaultPrevented)return B.update(),I;if(!f.retry)return null;if(e.$retry)return B.update(),J;var g=u.transition=m.when(f.retry);return g.then(function(){return g!==u.transition?E:(b.options.$retry=!0,u.transitionTo(b.to,b.toParams,b.options))},function(){return I}),B.update(),g}function M(a,c,d,f,g,j){var k=d?c:s(a.params.$$keys(),c),l={$stateParams:k};g.resolve=x.resolve(a.resolve,l,g.resolve,a);var n=[g.resolve.then(function(a){g.globals=a})];return f&&n.push(f),i(a.views,function(c,d){var f=c.resolve&&c.resolve!==a.resolve?c.resolve:{};f.$template=[function(){return p.load(d,{view:c,locals:l,params:k,notify:j.notify})||""}],n.push(x.resolve(f,l,g.resolve,a).then(function(i){if(e(c.controllerProvider)||h(c.controllerProvider)){var j=b.extend({},f,l,i);i.$$controller=v.invoke(c.controllerProvider,null,j)}else i.$$controller=c.controller;i.$$state=a,i.$$controllerAs=c.controllerAs,g[d]=i}))}),m.all(n).then(function(a){return g})}var E=m.reject(new Error("transition superseded")),H=m.reject(new Error("transition prevented")),I=m.reject(new Error("transition aborted")),J=m.reject(new Error("transition failed"));return n.locals={resolve:null,globals:{$stateParams:{}}},u={params:{},current:n.self,$current:n,transition:null},u.reload=function(b){return u.transitionTo(u.current,z,{reload:b||!0,inherit:!1,notify:!0})},u.go=function(b,c,d){return u.transitionTo(b,c,j({inherit:!0,relative:u.$current},d))},u.transitionTo=function(c,e,h){e=e||{},h=j({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},h||{});var i=u.$current,o=u.params,p=i.path,r,t=A(c,h.relative),x=e["#"];if(!d(t)){var y={to:c,toParams:e,options:h},C=L(y,i.self,o,h);if(C)return C;c=y.to,e=y.toParams,h=y.options,t=A(c,h.relative);if(!d(t))throw h.relative?new Error("Could not resolve '"+c+"' from state '"+h.relative+"'"):new Error("No such state '"+c+"'")}if(t[w])throw new Error("Cannot transition to abstract state '"+c+"'");h.inherit&&(e=q(z,e||{},u.$current,t));if(!t.params.$$validates(e))return J;e=t.params.$$values(e),c=t;var D=c.path,F=0,G=D[F],I=n.locals,N=[],O=!1;if(!h.reload)while(G&&G===p[F]&&G.ownParams.$$equals(e,o))I=N[F]=G.locals,F++,G=D[F];else if(f(h.reload)||g(h.reload)){if(g(h.reload)&&!h.reload.name)throw new Error("Invalid reload state object");var P=h.reload===!0?p[0]:A(h.reload);if(h.reload&&!P)throw new Error("No such reload state '"+(f(h.reload)?h.reload:h.reload.name)+"'");O=!0;while(G&&G===p[F]&&G!==P)I=N[F]=G.locals,F++,G=D[F]}if(!O&&K(c,i,I,h))return c.self.reloadOnSearch!==!1&&B.update(),u.transition=null,m.when(u.current);e=s(c.params.$$keys(),e||{});if(h.notify&&a.$broadcast("$stateChangeStart",c.self,e,i.self,o).defaultPrevented)return a.$broadcast("$stateChangeCancel",c.self,e,i.self,o),B.update(),H;var Q=m.when(I);for(var R=F;R<D.length;R++,G=D[R])I=N[R]=l(I),Q=M(G,e,G===c,Q,I,h);var S=u.transition=Q.then(function(){var b,d,f;if(u.transition!==S)return E;for(b=p.length-1;b>=F;b--)f=p[b],f.self.onExit&&v.invoke(f.self.onExit,f.self,f.locals.globals),f.locals=null;for(b=F;b<D.length;b++)d=D[b],d.locals=N[b],d.self.onEnter&&v.invoke(d.self.onEnter,d.self,d.locals.globals);return x&&(e["#"]=x),u.transition!==S?E:(u.$current=c,u.current=c.self,u.params=e,k(u.params,z),u.transition=null,h.location&&c.navigable&&B.push(c.navigable.url,c.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:h.location==="replace"}),h.notify&&a.$broadcast("$stateChangeSuccess",c.self,e,i.self,o),B.update(!0),u.current)},function(b){return u.transition!==S?E:(u.transition=null,r=a.$broadcast("$stateChangeError",c.self,e,i.self,o,b),r.defaultPrevented||B.update(),m.reject(b))});return S},u.is=function(b,e,f){f=j({relative:u.$current},f||{});var g=A(b,f.relative);return d(g)?u.$current!==g?!1:e?r(g.params.$$values(e),z):!0:c},u.includes=function(b,e,g){g=j({relative:u.$current},g||{});if(f(b)&&F(b)){if(!G(b))return!1;b=u.$current.name}var h=A(b,g.relative);return d(h)?d(u.$current.includes[h.name])?e?r(h.params.$$values(e),z,o(e)):!0:!1:c},u.href=function(b,e,f){f=j({lossy:!0,inherit:!0,absolute:!1,relative:u.$current},f||{});var g=A(b,f.relative);if(!d(g))return null;f.inherit&&(e=q(z,e||{},u.$current,g));var h=g&&f.lossy?g.navigable:g;return!h||h.url===c||h.url===null?null:B.href(h.url,s(g.params.$$keys().concat("#"),e||{}),{absolute:f.absolute})},u.get=function(a,b){if(arguments.length===0)return y(o(t),function(a){return t[a].self});var c=A(a,b||u.$current);return c&&c.self?c.self:null},u}function K(a,b,c,d){if(a===b&&(c===b.locals&&!d.reload||a.self.reloadOnSearch===!1))return!0}var n,t={},u,v={},w="abstract",x={parent:function(a){if(d(a.parent)&&a.parent)return A(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?A(b[1]):n},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=j({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(f(b))return b.charAt(0)=="^"?m.compile(b.substring(1),c):(a.parent.navigable||n).url.concat(b,c);if(!b||m.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new B.ParamSet;return i(a.params||{},function(a,c){b[c]||(b[c]=new B.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?j(a.parent.params.$$new(),a.ownParams):new B.ParamSet},views:function(a){var b={};return i(d(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?j({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};n=E({name:"",url:"^",views:null,"abstract":!0}),n.navigable=null,this.decorator=H,this.state=I,this.$get=J,J.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function H(){function a(a,b){return{load:function(d,e){var f,g={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return e=j(g,e),e.view&&(f=b.fromConfig(e.view,e.params,e.locals)),f&&e.notify&&a.$broadcast("$viewContentLoading",e),f}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function I(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function J(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function j(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(i)return{enter:function(a,b,c){var d=i.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=i.leave(a,b);c&&c.then&&c.then(b)}};if(h){var d=h&&h(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var g=f(),h=g("$animator"),i=g("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,g){return function(c,f,h){function q(){i&&(i.remove(),i=null),l&&(l.$destroy(),l=null),k&&(p.leave(k,function(){i=null}),i=k,k=null)}function r(i){var j,r=L(c,h,f,e),s=r&&a.$current&&a.$current.locals[r];if(!i&&s===m)return;j=c.$new(),m=a.$current.locals[r];var t=g(j,function(a){p.enter(a,f,function(){l&&l.$emit("$viewContentAnimationEnded"),(b.isDefined(o)&&!o||c.$eval(o))&&d(a)}),q()});k=t,l=j,l.$emit("$viewContentLoaded"),l.$eval(n)}var i,k,l,m,n=h.onload||"",o=h.autoscroll,p=j(h,c);c.$on("$stateChangeSuccess",function(){r(!1)}),c.$on("$viewContentLoading",function(){r(!1)}),r(!0)}}};return k}function K(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=L(e,h,g,d),k=i&&i.locals[j];if(!k)return;g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}function L(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function M(a,b){var c=a.match(/^\s*({[^}]*})\s*$/),d;c&&(a=b+"("+c[1]+")"),d=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!d||d.length!==4)throw new Error("Invalid state ref '"+a+"'");return{state:d[1],paramExpr:d[3]||null}}function N(a){var b=a.parent().inheritedData("$uiView");if(b&&b.state&&b.state.name)return b.state}function O(a,c){var d=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=M(g.uiSref,a.current.name),j=null,k=null,l=N(f)||a.$current,m=Object.prototype.toString.call(f.prop("href"))==="[object SVGAnimatedString]"?"xlink:href":"href",n=null,o=f.prop("tagName").toUpperCase()==="A",p=f[0].nodeName==="FORM",q=p?"action":m,r=!0,s={relative:l,inherit:!0},t=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in t&&(s[a]=t[a])});var u=function(c){c&&(j=b.copy(c));if(!r)return;n=a.href(i.state,j,s);var d=h[1]||h[0];d&&d.$$addStateInfo(i.state,j);if(n===null)return r=!1,!1;g.$set(q,n)};i.paramExpr&&(e.$watch(i.paramExpr,function(a,b){a!==j&&u(a)},!0),j=b.copy(e.$eval(i.paramExpr))),u();if(p)return;f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,s)});b.preventDefault();var g=o&&!n?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function P(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function h(){i()?d.addClass(g):d.removeClass(g)}function i(){for(var a=0;a<f.length;a++)if(j(f[a].state,f[a].params))return!0;return!1}function j(b,c){return typeof e.uiSrefActiveEq!="undefined"?a.is(b.name,c):a.includes(b.name,c)}var f=[],g;g=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$addStateInfo=function(b,c){var e=a.get(b,N(d));f.push({state:e||{name:b},params:c}),h()},b.$on("$stateChangeSuccess",h)}]}}function Q(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function R(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var d=b.isDefined,e=b.isFunction,f=b.isString,g=b.isObject,h=b.isArray,i=b.forEach,j=b.extend,k=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),z.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",z),A.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",A);var B;C.prototype.concat=function(a,b){var c={caseInsensitive:B.caseInsensitive(),strict:B.strictMode(),squash:B.defaultSquashPolicy()};return new C(this.sourcePath+a+this.sourceSearch,j(c,b),this)},C.prototype.toString=function(){return this.source},C.prototype.exec=function(a,b){function l(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=y(d,b);return y(e,c).reverse()}var c=this.regexp.exec(a);if(!c)return null;b=b||{};var d=this.parameters(),e=d.length,f=this.segments.length-1,g={},h,i,j,k;if(f!==c.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(h=0;h<f;h++){k=d[h];var m=this.params[k],n=c[h+1];for(i=0;i<m.replace;i++)m.replace[i].from===n&&(n=m.replace[i].to);n&&m.array===!0&&(n=l(n)),g[k]=m.value(n)}for(;h<e;h++)k=d[h],g[k]=this.params[k].value(b[k]);return g},C.prototype.parameters=function(a){return d(a)?this.params[a]||null:this.$$paramNames},C.prototype.validates=function(a){return this.params.$$validates(a)},C.prototype.format=function(a){function l(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var b=this.segments,c=this.parameters(),d=this.params;if(!this.validates(a))return null;var e,g=!1,i=b.length-1,j=c.length,k=b[0];for(e=0;e<j;e++){var m=e<i,n=c[e],o=d[n],p=o.value(a[n]),q=o.isOptional&&o.type.equals(o.value(),p),r=q?o.squash:!1,s=o.type.encode(p);if(m){var t=b[e+1];if(r===!1)s!=null&&(h(s)?k+=y(s,l).join("-"):k+=encodeURIComponent(s)),k+=t;else if(r===!0){var u=k.match(/\/$/)?/\/?(.*)/:/(.*)/;k+=t.match(u)[1]}else f(r)&&(k+=r+t)}else{if(s==null||q&&r!==!1)continue;h(s)||(s=[s]),s=y(s,encodeURIComponent).join("&"+n+"="),k+=(g?"&":"?")+(n+"="+s),g=!0}}return k},D.prototype.is=function(a,b){return!0},D.prototype.encode=function(a,b){return a},D.prototype.decode=function(a,b){return a},D.prototype.equals=function(a,b){return a==b},D.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},D.prototype.pattern=/.*/,D.prototype.toString=function(){return"{Type:"+this.name+"}"},D.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},D.prototype.$asArray=function(a,b){function e(a,b){function e(a,b){return function(){return a[b].apply(a,arguments)}}function f(a){return h(a)?a:d(a)?[a]:[]}function g(a){switch(a.length){case 0:return c;case 1:return b==="auto"?a[0]:a;default:return a}}function i(a){return!a}function j(a,b){return function(d){d=f(d);var e=y(d,a);return b===!0?x(e,i).length===0:g(e)}}function k(a){return function(c,d){var e=f(c),g=f(d);if(e.length!==g.length)return!1;for(var h=0;h<e.length;h++)if(!a(e[h],g[h]))return!1;return!0}}this.encode=j(e(a,"encode")),this.decode=j(e(a,"decode")),this.is=j(e(a,"is"),!0),this.equals=k(e(a,"equals")),this.pattern=a.pattern,this.$normalize=j(e(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if(a==="auto"&&!b)throw new Error("'auto' array mode is for query parameters only");return new e(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",E),b.module("ui.router.util").run(["$urlMatcherFactory",function(a){}]),F.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",F),G.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",G),H.$inject=[],b.module("ui.router.state").provider("$view",H),b.module("ui.router.state").provider("$uiViewScroll",I),J.$inject=["$state","$injector","$uiViewScroll","$interpolate"],K.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",J),b.module("ui.router.state").directive("uiView",K),O.$inject=["$state","$timeout"],P.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",O).directive("uiSrefActive",P).directive("uiSrefActiveEq",P),Q.$inject=["$state"],R.$inject=["$state"],b.module("ui.router.state").filter("isState",Q).filter("includedByState",R)}(window,window.angular)